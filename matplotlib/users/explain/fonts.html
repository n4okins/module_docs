
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Fonts in Matplotlib &#8212; Matplotlib 3.7.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v3.7.1-2-gd50b964ebb" />
    <link rel="stylesheet" type="text/css" href="../../_static/mpl.css?v3.7.1-2-gd50b964ebb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/jquery.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/underscore.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/doctools.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/sphinx_highlight.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/clipboard.min.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/copybutton.js?v3.7.1-2-gd50b964ebb"></script>
    <script src="../../_static/design-tabs.js?v3.7.1-2-gd50b964ebb"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-55954603-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-55954603-1');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'users/explain/fonts';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://matplotlib.org/devdocs/_static/switcher.json?v3.7.1-2-gd50b964ebb';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'stable';
        </script>
    <link rel="canonical" href="https://matplotlib.org/stable/users/explain/fonts.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.7.1 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event handling and picking" href="event_handling.html" />
    <link rel="prev" title="Interactive figures" href="interactive.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
   


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/images/logo2.svg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/images/logo_dark.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../release_notes.html">Releases</a>
  </li>
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        stable  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../release_notes.html">Releases</a>
  </li>
</ul>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        stable  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://gitter.im/matplotlib/matplotlib" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-gitter"></i></span>
            <label class="sr-only">Gitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://discourse.matplotlib.org" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/matplotlib/matplotlib" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/matplotlib/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="api_interfaces.html">Matplotlib Application Interfaces (APIs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="figures.html">Creating, viewing, and saving Matplotlib Figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="backends.html">Backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_a_backend_pyplot_interface.html">Writing a backend -- the pyplot interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Interactive figures</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Fonts in Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="event_handling.html">Event handling and picking</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_guide.html">Interactive figures and asynchronous programming</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="fonts-in-matplotlib">
<h1>Fonts in Matplotlib<a class="headerlink" href="#fonts-in-matplotlib" title="Permalink to this heading">#</a></h1>
<p>Matplotlib needs fonts to work with its text engine, some of which are shipped
alongside the installation.  The default font is <a class="reference external" href="https://dejavu-fonts.github.io">DejaVu Sans</a> which covers most European writing systems.
However, users can configure the default fonts, and provide their own custom
fonts.  See <a class="reference internal" href="../../tutorials/text/text_props.html"><span class="doc">Customizing text properties</span></a> for
details and <a class="reference internal" href="../../tutorials/text/text_props.html#font-nonlatin"><span class="std std-ref">Text with non-latin glyphs</span></a> in particular for glyphs not supported by
DejaVu Sans.</p>
<p>Matplotlib also provides an option to offload text rendering to a TeX engine
(<code class="docutils literal notranslate"><span class="pre">usetex=True</span></code>), see <a class="reference internal" href="../../tutorials/text/usetex.html"><span class="doc">Text rendering with LaTeX</span></a>.</p>
<section id="fonts-in-pdf-and-postscript">
<h2>Fonts in PDF and PostScript<a class="headerlink" href="#fonts-in-pdf-and-postscript" title="Permalink to this heading">#</a></h2>
<p>Fonts have a long (and sometimes incompatible) history in computing, leading to
different platforms supporting different types of fonts.  In practice,
Matplotlib supports three font specifications (in addition to pdf 'core fonts',
which are explained later in the guide):</p>
<table class="table" id="id2">
<caption><span class="caption-text">Type of Fonts</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type 1 (PDF)</p></th>
<th class="head"><p>Type 3 (PDF/PS)</p></th>
<th class="head"><p>TrueType (PDF)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>One of the oldest types, introduced by Adobe</p></td>
<td><p>Similar to Type 1 in terms of introduction</p></td>
<td><p>Newer than previous types, used commonly today, introduced by Apple</p></td>
</tr>
<tr class="row-odd"><td><p>Restricted subset of PostScript, charstrings are in bytecode</p></td>
<td><p>Full PostScript language, allows embedding arbitrary code
(in theory, even render fractals when rasterizing!)</p></td>
<td><p>Include a virtual machine that can execute code!</p></td>
</tr>
<tr class="row-even"><td><p>These fonts support font hinting</p></td>
<td><p>Do not support font hinting</p></td>
<td><p>Hinting supported (virtual machine processes the &quot;hints&quot;)</p></td>
</tr>
<tr class="row-odd"><td><p>Non-subsetted through Matplotlib</p></td>
<td><p>Subsetted via external module ttconv</p></td>
<td><p>Subsetted via external module <a class="reference external" href="https://github.com/fonttools/fonttools">fontTools</a></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Adobe <a class="reference external" href="https://helpx.adobe.com/fonts/kb/postscript-type-1-fonts-end-of-support.html">disabled</a> support for authoring with Type 1 fonts in January 2023.</p>
</div>
<p>Other font specifications which Matplotlib supports:</p>
<ul class="simple">
<li><p>Type 42 fonts (PS):</p>
<ul>
<li><p>PostScript wrapper around TrueType fonts</p></li>
<li><p>42 is the <a class="reference external" href="https://en.wikipedia.org/wiki/Answer_to_Life,_the_Universe,_and_Everything">Answer to Life, the Universe, and Everything!</a></p></li>
<li><p>Matplotlib uses the external library <a class="reference external" href="https://github.com/fonttools/fonttools">fontTools</a>
to subset these types of fonts</p></li>
</ul>
</li>
<li><p>OpenType fonts:</p>
<ul>
<li><p>OpenType is a new standard for digital type fonts, developed jointly by
Adobe and Microsoft</p></li>
<li><p>Generally contain a much larger character set!</p></li>
<li><p>Limited support with Matplotlib</p></li>
</ul>
</li>
</ul>
<section id="font-subsetting">
<h3>Font subsetting<a class="headerlink" href="#font-subsetting" title="Permalink to this heading">#</a></h3>
<p>The PDF and PostScript formats support embedding fonts in files, allowing the
display program to correctly render the text, independent of what fonts are
installed on the viewer's computer and without the need to pre-rasterize the text.
This ensures that if the output is zoomed or resized the text does not become
pixelated.  However, embedding full fonts in the file can lead to large output
files, particularly with fonts with many glyphs such as those that support CJK
(Chinese/Japanese/Korean).</p>
<p>The solution to this problem is to subset the fonts used in the document and
only embed the glyphs actually used.  This gets both vector text and small
files sizes.  Computing the subset of the font required and writing the new
(reduced) font are both complex problem and thus Matplotlib relies on
<a class="reference external" href="https://fonttools.readthedocs.io/en/latest/">fontTools</a> and a vendored fork
of ttconv.</p>
<p>Currently Type 3, Type 42, and TrueType fonts are subsetted.  Type 1 fonts are not.</p>
</section>
<section id="core-fonts">
<h3>Core Fonts<a class="headerlink" href="#core-fonts" title="Permalink to this heading">#</a></h3>
<p>In addition to the ability to embed fonts, as part of the <a class="reference external" href="https://en.wikipedia.org/wiki/PostScript_fonts#Core_Font_Set">PostScript</a> and <a class="reference external" href="https://docs.oracle.com/cd/E96927_01/TSG/FAQ/What%20are%20the%2014%20base%20fonts%20distributed%20with%20Acroba.html">PDF
specification</a>
there are 14 Core Fonts that compliant viewers must ensure are available.  If
you restrict your document to only these fonts you do not have to embed any
font information in the document but still get vector text.</p>
<p>This is especially helpful to generate <em>really lightweight</em> documents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># trigger core fonts for PDF backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;pdf.use14corefonts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># trigger core fonts for PS backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;ps.useafm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">chars</span> <span class="o">=</span> <span class="s2">&quot;AFM ftw!&quot;</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">chars</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PDF.pdf&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PS.ps&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ps)</span>
</pre></div>
</div>
</section>
</section>
<section id="fonts-in-svg">
<h2>Fonts in SVG<a class="headerlink" href="#fonts-in-svg" title="Permalink to this heading">#</a></h2>
<p>Text can output to SVG in two ways controlled by <code class="docutils literal notranslate"><a class="reference internal" href="../../tutorials/introductory/customizing.html?highlight=svg.fonttype#matplotlibrc-sample"><span class="std std-ref"><span class="pre">rcParams[&quot;svg.fonttype&quot;]</span></span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">'path'</span></code>):</p>
<ul class="simple">
<li><p>as a path (<code class="docutils literal notranslate"><span class="pre">'path'</span></code>) in the SVG</p></li>
<li><p>as string in the SVG with font styling on the element (<code class="docutils literal notranslate"><span class="pre">'none'</span></code>)</p></li>
</ul>
<p>When saving via <code class="docutils literal notranslate"><span class="pre">'path'</span></code> Matplotlib will compute the path of the glyphs used
as vector paths and write those to the output.  The advantage of doing so is
that the SVG will look the same on all computers independent of what fonts are
installed.  However the text will not be editable after the fact.
In contrast, saving with <code class="docutils literal notranslate"><span class="pre">'none'</span></code> will result in smaller files and the
text will appear directly in the markup.  However, the appearance may vary
based on the SVG viewer and what fonts are available.</p>
</section>
<section id="fonts-in-agg">
<h2>Fonts in Agg<a class="headerlink" href="#fonts-in-agg" title="Permalink to this heading">#</a></h2>
<p>To output text to raster formats via Agg, Matplotlib relies on <a class="reference external" href="https://www.freetype.org/">FreeType</a>.  Because the exact rendering of the glyphs
changes between FreeType versions we pin to a specific version for our image
comparison tests.</p>
</section>
<section id="how-matplotlib-selects-fonts">
<h2>How Matplotlib selects fonts<a class="headerlink" href="#how-matplotlib-selects-fonts" title="Permalink to this heading">#</a></h2>
<p>Internally, using a font in Matplotlib is a three step process:</p>
<ol class="arabic simple">
<li><p>a <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> object is created (explicitly or implicitly)</p></li>
<li><p>based on the <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> object the methods on <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager" title="matplotlib.font_manager.FontManager"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager</span></code></a> are used
to select the closest &quot;best&quot; font Matplotlib is aware of (except for
<code class="docutils literal notranslate"><span class="pre">'none'</span></code> mode of SVG).</p></li>
<li><p>the Python proxy for the font object is used by the backend code to render
the text -- the exact details depend on the backend via <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.get_font" title="matplotlib.font_manager.get_font"><code class="xref py py-obj docutils literal notranslate"><span class="pre">font_manager.get_font</span></code></a>.</p></li>
</ol>
<p>The algorithm to select the &quot;best&quot; font is a modified version of the algorithm
specified by the <a class="reference external" href="http://www.w3.org/TR/1998/REC-CSS2-19980512/">CSS1 Specifications</a> which is used by web browsers.
This algorithm takes into account the font family name (e.g. &quot;Arial&quot;, &quot;Noto
Sans CJK&quot;, &quot;Hack&quot;, ...), the size, style, and weight.  In addition to family
names that map directly to fonts there are five &quot;generic font family names&quot;
(serif, monospace, fantasy, cursive, and sans-serif) that will internally be
mapped to any one of a set of fonts.</p>
<p>Currently the public API for doing step 2 is <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager.findfont" title="matplotlib.font_manager.FontManager.findfont"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager.findfont</span></code></a> (and that
method on the global <a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontManager" title="matplotlib.font_manager.FontManager"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontManager</span></code></a> instance is aliased at the module level as
<a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.findfont" title="matplotlib.font_manager.findfont"><code class="xref py py-obj docutils literal notranslate"><span class="pre">font_manager.findfont</span></code></a>), which will only find a single font and return the absolute
path to the font on the filesystem.</p>
</section>
<section id="font-fallback">
<h2>Font fallback<a class="headerlink" href="#font-fallback" title="Permalink to this heading">#</a></h2>
<p>There is no font that covers the entire Unicode space thus it is possible for the
users to require a mix of glyphs that can not be satisfied from a single font.
While it has been possible to use multiple fonts within a Figure, on distinct
<a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instances, it was not previous possible to use multiple fonts in the
same <a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instance (as a web browser does).  As of Matplotlib 3.6 the Agg,
SVG, PDF, and PS backends will &quot;fallback&quot; through multiple fonts in a single
<a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
    <span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="s2">&quot;There are 几个汉字 in between!&quot;</span><span class="p">,</span>
    <span class="n">family</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DejaVu Sans&#39;</span><span class="p">,</span> <span class="s1">&#39;WenQuanYi Zen Hei&#39;</span><span class="p">],</span>
    <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../../_downloads/674c4e5aeb1291b3b6ba8aea20d7d07b/fonts-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/485c336a8a02e335fa7892e04ffc7e3c/fonts-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>)</p>
<figure class="align-default" id="id3">
<img alt="../../_images/fonts-1.png" class="plot-directive" src="../../_images/fonts-1.png" />
<figcaption>
<p><span class="caption-text">The string &quot;There are 几个汉字 in between!&quot; rendered with 2 fonts.</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Internally this is implemented by setting The &quot;font family&quot; on
<a class="reference internal" href="../../api/font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FontProperties</span></code></a> objects to a list of font families.  A (currently)
private API extracts a list of paths to all of the fonts found and then
constructs a single <a class="reference internal" href="../../api/ft2font.html#matplotlib.ft2font.FT2Font" title="matplotlib.ft2font.FT2Font"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ft2font.FT2Font</span></code></a> object that is aware of all of the fonts.
Each glyph of the string is rendered using the first font in the list that
contains that glyph.</p>
<p>A majority of this work was done by Aitik Gupta supported by Google Summer of
Code 2021.</p>
</section>
</section>


            </article>
            
            
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-pdf-and-postscript">
   Fonts in PDF and PostScript
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#font-subsetting">
     Font subsetting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#core-fonts">
     Core Fonts
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-svg">
   Fonts in SVG
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fonts-in-agg">
   Fonts in Agg
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-matplotlib-selects-fonts">
   How Matplotlib selects fonts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#font-fallback">
   Font fallback
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2023 The Matplotlib development team.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="sphinx-version">
    Built from v3.7.1-2-gd50b964ebb.
    <br/>
  </p>

  </div>
  
</div>
  </footer>
  </body>
</html>